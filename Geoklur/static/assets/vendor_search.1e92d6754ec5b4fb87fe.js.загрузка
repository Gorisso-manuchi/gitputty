/*! For license information please see vendor~search.1e92d6754ec5b4fb87fe.js.LICENSE.txt */
(self.webpackChunkvk=self.webpackChunkvk||[]).push([[1238],{94078:function(e,t,n){"use strict";n.d(t,{APIAdapter:function(){return D},APIAdapterContext:function(){return K},HeaderSearch:function(){return M},ResultsList:function(){return W},SearchContext:function(){return k},VKAPISearchProvider:function(){return nn},getHintData:function(){return N}});var r=n(56769),i=n(75280),o=n(30300),u=n(25613),s=n(33792),a=n(51241),c=n(24802),l=n(93176),f=n(95036),d=function(){return d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},d.apply(this,arguments)};function p(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}var h="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},g={exports:{}},m={},v=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable;function I(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map((function(e){return t[e]}));if("0123456789"!==r.join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}})()&&Object.assign;var x=r,w=60103;if(m.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var O=Symbol.for;w=O("react.element"),m.Fragment=O("react.fragment")}var E=x.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,S=Object.prototype.hasOwnProperty,C={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,n){var r,i={},o=null,u=null;for(r in void 0!==n&&(o=""+n),void 0!==t.key&&(o=""+t.key),void 0!==t.ref&&(u=t.ref),t)S.call(t,r)&&!C.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:w,type:e,key:o,ref:u,props:i,_owner:E.current}}m.jsx=_,m.jsxs=_;g.exports=m;var k=(0,r.createContext)(null),M=function(e){var t=(0,i.useAdaptivity)().sizeX,n=(0,r.useContext)(k),u=(0,r.useRef)();if(!n)return null;var s=e.children?(0,r.cloneElement)(e.children,{insideHeader:!0}):e.children;return(0,r.useEffect)((function(){var t,r,i,o=document.activeElement;n.isOpen?null===(t=e.onOpen)||void 0===t||t.call(e):null===(r=e.onClose)||void 0===r||r.call(e),n.isOpen&&"INPUT"!==(null==o?void 0:o.tagName)&&"text"!==o.type?null===(i=u.current)||void 0===i||i.focus():!n.isOpen&&u.current&&document.activeElement===u.current&&u.current.blur()}),[n.isOpen]),g.exports.jsx("div",d({className:(0,o.classNames)("HeaderSearch","HeaderSearch--sizeX-".concat(t),e.className,{"HeaderSearch--focused":n.isOpen})},{children:g.exports.jsxs("div",d({},n.getComboboxProps(),{children:[g.exports.jsx(i.Search,d({},n.getInputProps({ref:u},{suppressRefError:!0}),{ref:null,getRef:function(e){u.current=e},placeholder:n.lang.placeholder||"",onFocus:function(){return n.openMenu()}}),void 0),s]}),void 0)}),void 0)},j={original:["ё","ж","х","ц","ч","щ","щ","ш","э","ю","я","Ё","Ж","Х","Ц","Ч","Щ","Щ","Ш","Э","Ю","Я","ь"],replace:["yo","zh","kh","ts","ch","sch","shch","sh","eh","yu","ya","YO","ZH","KH","TS","CH","SCH","SHCH","SH","EH","YU","YA","'"]},R={original:"abvgdezijklmnoprstufhcyABVGDEZIJKLMNOPRSTUFHCYёЁ",replace:"абвгдезийклмнопрстуфхцыАБВГДЕЗИЙКЛМНОПРСТУФХЦЫеЕ"},P={qwerty:{lat:"qwertyuiop[]asdfghjkl;'zxcvbnm,./`QWERTYUIOP{}ASDFGHJKL:\"ZXCVBNM<>?~",cyr:"йцукенгшщзхъфывапролджэячсмитьбю.ёЙЦУКЕНГШЩЗХЪФЫВАПРОЛДЖЭЯЧСМИТЬБЮ,Ё"}};function L(e,t){void 0===t&&(t="ru");for(var n=e,r=0,i=j.replace.length;r<i;r++)n="en"===t?n.split(j.replace[r]).join(j.original[r]):n.split(j.original[r]).join(j.replace[r]);for(r=0,i=R.original.length;r<i;r++)n="en"===t?n.split(R.original.charAt(r)).join(R.replace.charAt(r)):n.split(R.replace.charAt(r)).join(R.original.charAt(r));return n}function T(e,t){void 0===t&&(t="ru");for(var n=e,r=0,i=P.qwerty.lat.length;r<i;r++)n="en"===t?n.split(P.qwerty.lat.charAt(r)).join(P.qwerty.cyr.charAt(r)):n.split(P.qwerty.cyr.charAt(r)).join(P.qwerty.lat.charAt(r));return n}function V(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/\'/g,"&#39;").replace(/%/g,"&#37;")}function A(e,t){var n,r,i=(n=function(e){return[e,L(e,"ru"),L(e,"en"),T(e,"ru"),T(L(e,"ru"),"ru"),T(L(e,"en"),"ru"),T(e,"en"),T(L(e,"ru"),"en"),T(L(e,"en"),"en")].filter((function(e,t,n){return n.indexOf(e)===t})).map((function(e){return new RegExp("(^|\\s|\\(|>)("+((t=e)?t.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1"):"")+")","gi");var t}))}(t),r=e,n.find((function(e){return e.test(r)}))),o=V(e);return i?o.replace(i,'$1<em class="HeaderSearch__highlight">$2</em>'):o}function N(e,t){var n,r,i,o,u,s="",a="default",c=!1,l=!1,f=void 0;if(e.group){var d=e.group;s=d.name,r=d.photo_200,i="group".concat(d.id),o="https://vk.com/".concat(e.group.screen_name||i),c=!!d.verified,l=!!d.trending}if(e.profile){var p=e.profile;s="".concat(p.first_name," ").concat(p.last_name),r=p.photo_200,i="id".concat(p.id),o="https://vk.com/".concat(p.screen_name||i),c=!!p.verified,l=!!p.trending,(null===(n=p.online_info)||void 0===n?void 0:n.is_online)&&(u=p.online_info.is_mobile?"mobile":"common"),p.image_status&&(f=p.image_status)}return e.app&&(s=e.app.title,a="app",r=e.app.icon_278,i="app".concat(e.app.id),o="https://vk.com/".concat(e.app.screen_name||i)),{id:i,title:s=t?A(s,t):V(s),description:e.description,url:o,trending:l,verified:c,online:u,imageStatus:f,avatar:{mode:a,url:r}}}function $(e){var t,n,r,i,o;if(e.verified&&e.trending?t=g.exports.jsx(u.default,{fill:"var(--dynamic_red)"},void 0):e.verified?t=g.exports.jsx(s.default,{fill:"var(--accent)"},void 0):e.trending&&(t=g.exports.jsx(a.default,{fill:"var(--dynamic_red)"},void 0)),e.imageStatus){var c=(r=e.imageStatus.images,i=16*window.devicePixelRatio,o=r.sort((function(e){return i-(e.width||e.height||0)})),o[o.length-1]);n=c&&g.exports.jsx("div",{className:"SearchOwnerName__imageStatus",style:{backgroundImage:"url(".concat(c.url,")")}},void 0)}return g.exports.jsxs("div",d({className:"SearchOwnerName"},{children:[g.exports.jsx("span",{className:"SearchOwnerName__name",dangerouslySetInnerHTML:{__html:e.name}},void 0),n,!n&&t&&g.exports.jsx("span",d({className:"SearchOwnerName__icon"},{children:t}),void 0)]}),void 0)}var H="SearchOwnerAvatar__online",F=function(e){var t=e.online,n=p(e,["online"]),r=null;return"common"===t?r=g.exports.jsx("div",{className:(0,o.classNames)(H,"SearchOwnerAvatar__online--common")},void 0):"mobile"===t&&(r=g.exports.jsx("div",d({className:(0,o.classNames)(H,"SearchOwnerAvatar__online--mobile")},{children:g.exports.jsx(c.default,{},void 0)}),void 0)),g.exports.jsx(i.Avatar,d({},n,{className:(0,o.classNames)(n.className,"SearchOwnerAvatar")},{children:r}),void 0)},D=function(){function e(){this._getHintData=N}return Object.defineProperty(e.prototype,"getHintData",{get:function(){return this._getHintData},set:function(e){this._getHintData=e},enumerable:!1,configurable:!0}),e}();(new D).getHintData=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=N.apply(void 0,e);return n.description,n};var K=(0,r.createContext)(new D);function q(e){var t=e.hint,n=e.query,o=p(e,["hint","query"]),u=(0,(0,r.useContext)(K).getHintData)(t,n),s=u.title,a=u.description,c=u.avatar,l=u.verified,f=u.trending,h=u.online,m=u.imageStatus;return g.exports.jsx(i.CustomSelectOption,d({},o,{description:a,before:g.exports.jsx(F,{mode:c.mode,src:c.url,online:h},void 0)},{children:g.exports.jsx($,{name:s,verified:l,trending:f,imageStatus:m},void 0)}),void 0)}var B,W=function(e){var t=(0,r.useContext)(k),n=(0,r.useState)(),u=n[0],s=n[1],a=(0,r.useState)(!1),c=a[0],l=a[1],f=(0,r.useContext)(K).getHintData;if(!t)return null;(0,r.useEffect)((function(){if(t.isOpen)window.clearTimeout(u),s(void 0),l(!0);else{s(window.setTimeout((function(){return l(!1)}),200))}}),[t.isOpen]);var p=(0,r.useMemo)((function(){if(!e.getMoreResultsButton)return null;if(!t.query)return null;var n=e.getMoreResultsButton(t.query,t.results.length);return n?g.exports.jsx(i.Div,{children:n},void 0):null}),[t.results,t.query]),h=null;return t.hasMore||t.results.length?t.hasMore&&(h=g.exports.jsx(i.Spinner,{},void 0)):h=g.exports.jsx(g.exports.Fragment,{children:t.query?t.lang.not_found:t.lang.empty_query},void 0),g.exports.jsxs("div",d({className:(0,o.classNames)("HeaderSearch__results",{"HeaderSearch__results--focused":c})},t.getMenuProps(),{children:[t.results.map((function(n,r){var i=f(n);return g.exports.jsx("a",d({href:i.url,onClick:function(e){var r;!1!==(null===(r=t.onItemSelect)||void 0===r?void 0:r.call(t,n))||e.preventDefault()},ref:function(e){t.highlightedIndex===r&&(t.activeLinkRef.current=e)},target:e.itemTarget},{children:g.exports.jsx(q,d({},t.getItemProps({hint:n,index:r,refKey:"getRootRef"}),{hovered:t.highlightedIndex===r,hint:n,query:t.query}),void 0)}),"".concat(n.type).concat(i.id))})),h&&g.exports.jsx(i.Placeholder,d({stretched:!e.insideHeader&&!t.hasMore},{children:h}),void 0),p]}),void 0)},U={exports:{}};B=U,function(e){function t(){}var n=t.prototype,r=e.EventEmitter;function i(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function o(e){return function(){return this[e].apply(this,arguments)}}function u(e){return"function"==typeof e||e instanceof RegExp||!(!e||"object"!=typeof e)&&u(e.listener)}n.getListeners=function(e){var t,n,r=this._getEvents();if(e instanceof RegExp)for(n in t={},r)r.hasOwnProperty(n)&&e.test(n)&&(t[n]=r[n]);else t=r[e]||(r[e]=[]);return t},n.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},n.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&((t={})[e]=n),t||n},n.addListener=function(e,t){if(!u(t))throw new TypeError("listener must be a function");var n,r=this.getListenersAsObject(e),o="object"==typeof t;for(n in r)r.hasOwnProperty(n)&&-1===i(r[n],t)&&r[n].push(o?t:{listener:t,once:!1});return this},n.on=o("addListener"),n.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},n.once=o("addOnceListener"),n.defineEvent=function(e){return this.getListeners(e),this},n.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},n.removeListener=function(e,t){var n,r,o=this.getListenersAsObject(e);for(r in o)o.hasOwnProperty(r)&&-1!==(n=i(o[r],t))&&o[r].splice(n,1);return this},n.off=o("removeListener"),n.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},n.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},n.manipulateListeners=function(e,t,n){var r,i,o=e?this.removeListener:this.addListener,u=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(r=n.length;r--;)o.call(this,t,n[r]);else for(r in t)t.hasOwnProperty(r)&&(i=t[r])&&("function"==typeof i?o.call(this,r,i):u.call(this,r,i));return this},n.removeEvent=function(e){var t,n=typeof e,r=this._getEvents();if("string"===n)delete r[e];else if(e instanceof RegExp)for(t in r)r.hasOwnProperty(t)&&e.test(t)&&delete r[t];else delete this._events;return this},n.removeAllListeners=o("removeEvent"),n.emitEvent=function(e,t){var n,r,i,o,u=this.getListenersAsObject(e);for(o in u)if(u.hasOwnProperty(o))for(n=u[o].slice(0),i=0;i<n.length;i++)!0===(r=n[i]).once&&this.removeListener(e,r.listener),r.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,r.listener);return this},n.trigger=o("emitEvent"),n.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},n.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},n._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},n._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return e.EventEmitter=r,t},B.exports?B.exports=t:e.EventEmitter=t}("undefined"!=typeof window?window:h||{});var z=new(0,U.exports),Y=191,X=13,Z=n(23229)(20,12e4),G=new Map,J=new Map,Q=function(e){var t="_r_".concat(e),n=G.get(t);if(n)return n;var r=new AbortController;return r.signal.onabort=function(){return J.delete(t)},J.forEach((function(e){return e.abort()})),J.set(t,r),G.set(t,function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n=null),(0,f.api)("search.getHints",{q:e,search_global:t?1:0,limit:20,fields:"photo_200, screen_name, trending, verified, online_info, image_status"},{},{signal:n}).then((function(e){return e.items}))}(e,!0,r.signal).finally((function(){G.delete(t),J.delete(t)}))),G.get(t)},ee=(0,o.debounce)((function(e){Q(e).then((function(t){z.emit(e,t,!0),Z.set(e,t)})).catch((function(t){"AbortError"!==t.name&&z.emit(e,[],!0)}))}),200);function te(e,t){void 0===t&&(t=20);var n=function(e){return Z.get(e)}(e);return n?z.emit(e,n,!0):ee(e,t),n||[]}function ne(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function re(){return re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},re.apply(this,arguments)}var ie={exports:{}},oe={exports:{}},ue={},se="function"==typeof Symbol&&Symbol.for,ae=se?Symbol.for("react.element"):60103,ce=se?Symbol.for("react.portal"):60106,le=se?Symbol.for("react.fragment"):60107,fe=se?Symbol.for("react.strict_mode"):60108,de=se?Symbol.for("react.profiler"):60114,pe=se?Symbol.for("react.provider"):60109,he=se?Symbol.for("react.context"):60110,ge=se?Symbol.for("react.async_mode"):60111,me=se?Symbol.for("react.concurrent_mode"):60111,ve=se?Symbol.for("react.forward_ref"):60112,ye=se?Symbol.for("react.suspense"):60113,be=se?Symbol.for("react.suspense_list"):60120,Ie=se?Symbol.for("react.memo"):60115,xe=se?Symbol.for("react.lazy"):60116,we=se?Symbol.for("react.block"):60121,Oe=se?Symbol.for("react.fundamental"):60117,Ee=se?Symbol.for("react.responder"):60118,Se=se?Symbol.for("react.scope"):60119;function Ce(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case ae:switch(e=e.type){case ge:case me:case le:case de:case fe:case ye:return e;default:switch(e=e&&e.$$typeof){case he:case ve:case xe:case Ie:case pe:return e;default:return t}}case ce:return t}}}function _e(e){return Ce(e)===me}ue.AsyncMode=ge,ue.ConcurrentMode=me,ue.ContextConsumer=he,ue.ContextProvider=pe,ue.Element=ae,ue.ForwardRef=ve,ue.Fragment=le,ue.Lazy=xe,ue.Memo=Ie,ue.Portal=ce,ue.Profiler=de,ue.StrictMode=fe,ue.Suspense=ye,ue.isAsyncMode=function(e){return _e(e)||Ce(e)===ge},ue.isConcurrentMode=_e,ue.isContextConsumer=function(e){return Ce(e)===he},ue.isContextProvider=function(e){return Ce(e)===pe},ue.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===ae},ue.isForwardRef=function(e){return Ce(e)===ve},ue.isFragment=function(e){return Ce(e)===le},ue.isLazy=function(e){return Ce(e)===xe},ue.isMemo=function(e){return Ce(e)===Ie},ue.isPortal=function(e){return Ce(e)===ce},ue.isProfiler=function(e){return Ce(e)===de},ue.isStrictMode=function(e){return Ce(e)===fe},ue.isSuspense=function(e){return Ce(e)===ye},ue.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===le||e===me||e===de||e===fe||e===ye||e===be||"object"==typeof e&&null!==e&&(e.$$typeof===xe||e.$$typeof===Ie||e.$$typeof===pe||e.$$typeof===he||e.$$typeof===ve||e.$$typeof===Oe||e.$$typeof===Ee||e.$$typeof===Se||e.$$typeof===we)},ue.typeOf=Ce,oe.exports=ue;function ke(e,t,n,r,i){}ke.resetWarningCache=function(){0};oe.exports,Function.call.bind(Object.prototype.hasOwnProperty);function Me(){}function je(){}je.resetWarningCache=Me;ie.exports=function(){function e(e,t,n,r,i,o){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==o){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:je,resetWarningCache:Me};return n.PropTypes=n,n}();var Re=ie.exports,Pe={exports:{}},Le={},Te=60103,Ve=60106,Ae=60107,Ne=60108,$e=60114,He=60109,Fe=60110,De=60112,Ke=60113,qe=60120,Be=60115,We=60116,Ue=60121,ze=60122,Ye=60117,Xe=60129,Ze=60131;if("function"==typeof Symbol&&Symbol.for){var Ge=Symbol.for;Te=Ge("react.element"),Ve=Ge("react.portal"),Ae=Ge("react.fragment"),Ne=Ge("react.strict_mode"),$e=Ge("react.profiler"),He=Ge("react.provider"),Fe=Ge("react.context"),De=Ge("react.forward_ref"),Ke=Ge("react.suspense"),qe=Ge("react.suspense_list"),Be=Ge("react.memo"),We=Ge("react.lazy"),Ue=Ge("react.block"),ze=Ge("react.server.block"),Ye=Ge("react.fundamental"),Xe=Ge("react.debug_trace_mode"),Ze=Ge("react.legacy_hidden")}function Je(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case Te:switch(e=e.type){case Ae:case $e:case Ne:case Ke:case qe:return e;default:switch(e=e&&e.$$typeof){case Fe:case De:case We:case Be:case He:return e;default:return t}}case Ve:return t}}}var Qe=He,et=Te,tt=De,nt=Ae,rt=We,it=Be,ot=Ve,ut=$e,st=Ne,at=Ke;function ct(e){return"object"==typeof e&&null!=e&&1===e.nodeType}function lt(e,t){return(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e}function ft(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var n=getComputedStyle(e,null);return lt(n.overflowY,t)||lt(n.overflowX,t)||function(e){var t=function(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}}(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)}(e)}return!1}function dt(e,t,n,r,i,o,u,s){return o<e&&u>t||o>e&&u<t?0:o<=e&&s<=n||u>=t&&s>=n?o-e-r:u>t&&s<n||o<e&&s>n?u-t+i:0}Le.ContextConsumer=Fe,Le.ContextProvider=Qe,Le.Element=et,Le.ForwardRef=tt,Le.Fragment=nt,Le.Lazy=rt,Le.Memo=it,Le.Portal=ot,Le.Profiler=ut,Le.StrictMode=st,Le.Suspense=at,Le.isAsyncMode=function(){return!1},Le.isConcurrentMode=function(){return!1},Le.isContextConsumer=function(e){return Je(e)===Fe},Le.isContextProvider=function(e){return Je(e)===He},Le.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===Te},Le.isForwardRef=function(e){return Je(e)===De},Le.isFragment=function(e){return Je(e)===Ae},Le.isLazy=function(e){return Je(e)===We},Le.isMemo=function(e){return Je(e)===Be},Le.isPortal=function(e){return Je(e)===Ve},Le.isProfiler=function(e){return Je(e)===$e},Le.isStrictMode=function(e){return Je(e)===Ne},Le.isSuspense=function(e){return Je(e)===Ke},Le.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===Ae||e===$e||e===Xe||e===Ne||e===Ke||e===qe||e===Ze||"object"==typeof e&&null!==e&&(e.$$typeof===We||e.$$typeof===Be||e.$$typeof===He||e.$$typeof===Fe||e.$$typeof===De||e.$$typeof===Ye||e.$$typeof===Ue||e[0]===ze)},Le.typeOf=Je,Pe.exports=Le;var pt=0;function ht(){}function gt(e,t){if(e){var n=function(e,t){var n=window,r=t.scrollMode,i=t.block,o=t.inline,u=t.boundary,s=t.skipOverflowHiddenElements,a="function"==typeof u?u:function(e){return e!==u};if(!ct(e))throw new TypeError("Invalid target");for(var c=document.scrollingElement||document.documentElement,l=[],f=e;ct(f)&&a(f);){if((f=f.parentElement)===c){l.push(f);break}null!=f&&f===document.body&&ft(f)&&!ft(document.documentElement)||null!=f&&ft(f,s)&&l.push(f)}for(var d=n.visualViewport?n.visualViewport.width:innerWidth,p=n.visualViewport?n.visualViewport.height:innerHeight,h=window.scrollX||pageXOffset,g=window.scrollY||pageYOffset,m=e.getBoundingClientRect(),v=m.height,y=m.width,b=m.top,I=m.right,x=m.bottom,w=m.left,O="start"===i||"nearest"===i?b:"end"===i?x:b+v/2,E="center"===o?w+y/2:"end"===o?I:w,S=[],C=0;C<l.length;C++){var _=l[C],k=_.getBoundingClientRect(),M=k.height,j=k.width,R=k.top,P=k.right,L=k.bottom,T=k.left;if("if-needed"===r&&b>=0&&w>=0&&x<=p&&I<=d&&b>=R&&x<=L&&w>=T&&I<=P)return S;var V=getComputedStyle(_),A=parseInt(V.borderLeftWidth,10),N=parseInt(V.borderTopWidth,10),$=parseInt(V.borderRightWidth,10),H=parseInt(V.borderBottomWidth,10),F=0,D=0,K="offsetWidth"in _?_.offsetWidth-_.clientWidth-A-$:0,q="offsetHeight"in _?_.offsetHeight-_.clientHeight-N-H:0;if(c===_)F="start"===i?O:"end"===i?O-p:"nearest"===i?dt(g,g+p,p,N,H,g+O,g+O+v,v):O-p/2,D="start"===o?E:"center"===o?E-d/2:"end"===o?E-d:dt(h,h+d,d,A,$,h+E,h+E+y,y),F=Math.max(0,F+g),D=Math.max(0,D+h);else{F="start"===i?O-R-N:"end"===i?O-L+H+q:"nearest"===i?dt(R,L,M,N,H+q,O,O+v,v):O-(R+M/2)+q/2,D="start"===o?E-T-A:"center"===o?E-(T+j/2)+K/2:"end"===o?E-P+$+K:dt(T,P,j,A,$+K,E,E+y,y);var B=_.scrollLeft,W=_.scrollTop;O+=W-(F=Math.max(0,Math.min(W+F,_.scrollHeight-M+q))),E+=B-(D=Math.max(0,Math.min(B+D,_.scrollWidth-j+K)))}S.push({el:_,top:F,left:D})}return S}(e,{boundary:t,block:"nearest",scrollMode:"if-needed"});n.forEach((function(e){var t=e.el,n=e.top,r=e.left;t.scrollTop=n,t.scrollLeft=r}))}}function mt(e,t,n){return e===t||t instanceof n.Node&&e.contains&&e.contains(t)}function vt(e,t){var n;function r(){n&&clearTimeout(n)}function i(){for(var i=arguments.length,o=new Array(i),u=0;u<i;u++)o[u]=arguments[u];r(),n=setTimeout((function(){n=null,e.apply(void 0,o)}),t)}return i.cancel=r,i}function yt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t.some((function(t){return t&&t.apply(void 0,[e].concat(r)),e.preventDownshiftDefault||e.hasOwnProperty("nativeEvent")&&e.nativeEvent.preventDownshiftDefault}))}}function bt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){t.forEach((function(t){"function"==typeof t?t(e):t&&(t.current=e)}))}}function It(){return String(pt++)}function xt(e){var t=e.isOpen,n=e.resultCount,r=e.previousResultCount;return t?n?n!==r?n+" result"+(1===n?" is":"s are")+" available, use up and down arrow keys to navigate. Press Enter key to select.":"":"No results are available.":""}function wt(e,t){return Object.keys(e).reduce((function(n,r){return n[r]=Ot(t,r)?t[r]:e[r],n}),{})}function Ot(e,t){return void 0!==e[t]}function Et(e){var t=e.key,n=e.keyCode;return n>=37&&n<=40&&0!==t.indexOf("Arrow")?"Arrow"+t:t}function St(e,t,n,r,i){if(void 0===i&&(i=!0),0===n)return-1;var o=n-1;("number"!=typeof t||t<0||t>=n)&&(t=e>0?-1:o+1);var u=t+e;u<0?u=i?o:0:u>o&&(u=i?0:o);var s=Ct(e,u,n,r,i);return-1===s?t>=n?-1:t:s}function Ct(e,t,n,r,i){var o=r(t);if(!o||!o.hasAttribute("disabled"))return t;if(e>0){for(var u=t+1;u<n;u++)if(!r(u).hasAttribute("disabled"))return u}else for(var s=t-1;s>=0;s--)if(!r(s).hasAttribute("disabled"))return s;return i?e>0?Ct(1,0,n,r,!1):Ct(-1,n-1,n,r,!1):-1}function _t(e,t,n,r){return void 0===r&&(r=!0),t.some((function(t){return t&&(mt(t,e,n)||r&&mt(t,n.document.activeElement,n))}))}var kt=vt((function(e){jt(e).textContent=""}),500);function Mt(e,t){var n=jt(t);e&&(n.textContent=e,kt(t))}function jt(e){void 0===e&&(e=document);var t=e.getElementById("a11y-status-message");return t||((t=e.createElement("div")).setAttribute("id","a11y-status-message"),t.setAttribute("role","status"),t.setAttribute("aria-live","polite"),t.setAttribute("aria-relevant","additions text"),Object.assign(t.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"}),e.body.appendChild(t),t)}var Rt=["isInitialMount","highlightedIndex","items","environment"],Pt={highlightedIndex:-1,isOpen:!1,selectedItem:null,inputValue:""};function Lt(e,t,n){var r=e.props,i=e.type,o={};Object.keys(t).forEach((function(r){!function(e,t,n,r){var i=t.props,o=t.type,u="on"+At(e)+"Change";i[u]&&void 0!==r[e]&&r[e]!==n[e]&&i[u](re({type:o},r))}(r,e,t,n),n[r]!==t[r]&&(o[r]=n[r])})),r.onStateChange&&Object.keys(o).length&&r.onStateChange(re({type:i},o))}var Tt=vt((function(e,t){Mt(e(),t)}),200),Vt="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?r.useLayoutEffect:r.useEffect;function At(e){return""+e.slice(0,1).toUpperCase()+e.slice(1)}function Nt(e){var t=(0,r.useRef)(e);return t.current=e,t}var $t={itemToString:function(e){return e?String(e):""},stateReducer:function(e,t){return t.changes},getA11ySelectionMessage:function(e){var t=e.selectedItem,n=e.itemToString;return t?n(t)+" has been selected.":""},scrollIntoView:gt,circularNavigation:!1,environment:"undefined"==typeof window?{}:window};function Ht(e,t,n){void 0===n&&(n=Pt);var r="default"+At(t);return r in e?e[r]:n[t]}function Ft(e,t,n){if(void 0===n&&(n=Pt),t in e)return e[t];var r="initial"+At(t);return r in e?e[r]:Ht(e,t,n)}function Dt(e,t,n,r){var i=e.items,o=e.initialHighlightedIndex,u=e.defaultHighlightedIndex,s=t.selectedItem,a=t.highlightedIndex;return 0===i.length?-1:void 0!==o&&a===o?o:void 0!==u?u:s?0===n?i.indexOf(s):St(n,i.indexOf(s),i.length,r,!1):0===n?-1:n<0?i.length-1:0}function Kt(e,t,n){var i=n.isInitialMount,o=n.highlightedIndex,u=n.items,s=n.environment,a=ne(n,Rt);(0,r.useEffect)((function(){i||Tt((function(){return e(re({highlightedIndex:o,highlightedItem:u[o],resultCount:u.length},a))}),s.document)}),t)}var qt=ht;Re.array.isRequired,Re.func,Re.func,Re.func,Re.bool,Re.number,Re.number,Re.number,Re.bool,Re.bool,Re.bool,Re.any,Re.any,Re.any,Re.string,Re.string,Re.string,Re.func,Re.string,Re.func,Re.func,Re.func,Re.func,Re.func,Re.shape({addEventListener:Re.func,removeEventListener:Re.func,document:Re.shape({getElementById:Re.func,activeElement:Re.any,body:Re.any})}),d(d({},$t),{getA11yStatusMessage:function(e){var t=e.isOpen,n=e.resultCount,r=e.previousResultCount;return t?n?n!==r?n+" result"+(1===n?" is":"s are")+" available, use up and down arrow keys to navigate. Press Enter or Space Bar keys to select.":"":"No results are available.":""}});var Bt=Object.freeze({__proto__:null,InputKeyDownArrowDown:0,InputKeyDownArrowUp:1,InputKeyDownEscape:2,InputKeyDownHome:3,InputKeyDownEnd:4,InputKeyDownEnter:5,InputChange:6,InputBlur:7,MenuMouseLeave:8,ItemMouseMove:9,ItemClick:10,ToggleButtonClick:11,FunctionToggleMenu:12,FunctionOpenMenu:13,FunctionCloseMenu:14,FunctionSetHighlightedIndex:15,FunctionSelectItem:16,FunctionSetInputValue:17,FunctionReset:18,ControlledPropUpdatedSelectedItem:19});function Wt(e){var t=function(e){var t=Ft(e,"selectedItem"),n=Ft(e,"isOpen"),r=Ft(e,"highlightedIndex"),i=Ft(e,"inputValue");return{highlightedIndex:r<0&&t&&n?e.items.indexOf(t):r,isOpen:n,selectedItem:t,inputValue:i}}(e),n=t.selectedItem,r=t.inputValue;return""===r&&n&&void 0===e.defaultInputValue&&void 0===e.initialInputValue&&void 0===e.inputValue&&(r=e.itemToString(n)),re({},t,{inputValue:r})}Re.array.isRequired,Re.func,Re.func,Re.func,Re.bool,Re.number,Re.number,Re.number,Re.bool,Re.bool,Re.bool,Re.any,Re.any,Re.any,Re.string,Re.string,Re.string,Re.string,Re.string,Re.string,Re.func,Re.string,Re.string,Re.func,Re.func,Re.func,Re.func,Re.func,Re.func,Re.shape({addEventListener:Re.func,removeEventListener:Re.func,document:Re.shape({getElementById:Re.func,activeElement:Re.any,body:Re.any})});function Ut(e,t,n){var i=(0,r.useRef)(),o=function(e,t,n){var i=(0,r.useRef)(),o=(0,r.useRef)(),u=(0,r.useCallback)((function(t,n){o.current=n,t=wt(t,n.props);var r=e(t,n);return n.props.stateReducer(t,re({},n,{changes:r}))}),[e]),s=(0,r.useReducer)(u,t),a=s[0],c=s[1],l=Nt(n),f=(0,r.useCallback)((function(e){return c(re({props:l.current},e))}),[l]),d=o.current;return(0,r.useEffect)((function(){d&&i.current&&i.current!==a&&Lt(d,wt(i.current,d.props),a),i.current=a}),[a,n,d]),[a,f]}(e,t,n),u=o[0],s=o[1];return(0,r.useEffect)((function(){Ot(n,"selectedItem")&&(i.current!==n.selectedItem&&s({type:19,inputValue:n.itemToString(n.selectedItem)}),i.current=u.selectedItem===i.current?n.selectedItem:u.selectedItem)})),[wt(u,n),s]}var zt=ht;var Yt=re({},$t,{getA11yStatusMessage:xt,circularNavigation:!0});function Xt(e,t){var n,r=t.type,i=t.props,o=t.shiftKey;switch(r){case 10:n={isOpen:Ht(i,"isOpen"),highlightedIndex:Ht(i,"highlightedIndex"),selectedItem:i.items[t.index],inputValue:i.itemToString(i.items[t.index])};break;case 0:n=e.isOpen?{highlightedIndex:St(o?5:1,e.highlightedIndex,i.items.length,t.getItemNodeFromIndex,i.circularNavigation)}:{highlightedIndex:Dt(i,e,1,t.getItemNodeFromIndex),isOpen:i.items.length>=0};break;case 1:n=e.isOpen?{highlightedIndex:St(o?-5:-1,e.highlightedIndex,i.items.length,t.getItemNodeFromIndex,i.circularNavigation)}:{highlightedIndex:Dt(i,e,-1,t.getItemNodeFromIndex),isOpen:i.items.length>=0};break;case 5:n=re({},e.isOpen&&e.highlightedIndex>=0&&{selectedItem:i.items[e.highlightedIndex],isOpen:Ht(i,"isOpen"),highlightedIndex:Ht(i,"highlightedIndex"),inputValue:i.itemToString(i.items[e.highlightedIndex])});break;case 2:n=re({isOpen:!1,highlightedIndex:-1},!e.isOpen&&{selectedItem:null,inputValue:""});break;case 3:n={highlightedIndex:Ct(1,0,i.items.length,t.getItemNodeFromIndex,!1)};break;case 4:n={highlightedIndex:Ct(-1,i.items.length-1,i.items.length,t.getItemNodeFromIndex,!1)};break;case 7:n=re({isOpen:!1,highlightedIndex:-1},e.highlightedIndex>=0&&t.selectItem&&{selectedItem:i.items[e.highlightedIndex],inputValue:i.itemToString(i.items[e.highlightedIndex])});break;case 6:n={isOpen:!0,highlightedIndex:Ht(i,"highlightedIndex"),inputValue:t.inputValue};break;case 16:n={selectedItem:t.selectedItem,inputValue:i.itemToString(t.selectedItem)};break;case 19:n={inputValue:t.inputValue};break;default:return function(e,t,n){var r,i=t.type,o=t.props;switch(i){case n.ItemMouseMove:r={highlightedIndex:t.index};break;case n.MenuMouseLeave:r={highlightedIndex:-1};break;case n.ToggleButtonClick:case n.FunctionToggleMenu:r={isOpen:!e.isOpen,highlightedIndex:e.isOpen?-1:Dt(o,e,0)};break;case n.FunctionOpenMenu:r={isOpen:!0,highlightedIndex:Dt(o,e,0)};break;case n.FunctionCloseMenu:r={isOpen:!1};break;case n.FunctionSetHighlightedIndex:r={highlightedIndex:t.highlightedIndex};break;case n.FunctionSetInputValue:r={inputValue:t.inputValue};break;case n.FunctionReset:r={highlightedIndex:Ht(o,"highlightedIndex"),isOpen:Ht(o,"isOpen"),selectedItem:Ht(o,"selectedItem"),inputValue:Ht(o,"inputValue")};break;default:throw new Error("Reducer called without proper action type.")}return re({},e,r)}(e,t,Bt)}return re({},e,n)}var Zt=["onMouseLeave","refKey","ref"],Gt=["item","index","refKey","ref","onMouseMove","onClick","onPress"],Jt=["onClick","onPress","refKey","ref"],Qt=["onKeyDown","onChange","onInput","onBlur","onChangeText","refKey","ref"],en=["refKey","ref"];function tn(e){void 0===e&&(e={}),zt(e,tn);var t,n,i,o,u,s,a,c,l=re({},Yt,e),f=l.initialIsOpen,d=l.defaultIsOpen,p=l.items,h=l.scrollIntoView,g=l.environment,m=l.getA11yStatusMessage,v=l.getA11ySelectionMessage,y=l.itemToString,b=Ut(Xt,Wt(l),l),I=b[0],x=b[1],w=I.isOpen,O=I.highlightedIndex,E=I.selectedItem,S=I.inputValue,C=(0,r.useRef)(null),_=(0,r.useRef)({}),k=(0,r.useRef)(null),M=(0,r.useRef)(null),j=(0,r.useRef)(null),R=(0,r.useRef)(!0),P=(n=(t=l).id,i=void 0===n?"downshift-"+It():n,o=t.labelId,u=t.menuId,s=t.getItemId,a=t.toggleButtonId,c=t.inputId,(0,r.useRef)({labelId:o||i+"-label",menuId:u||i+"-menu",getItemId:s||function(e){return i+"-item-"+e},toggleButtonId:a||i+"-toggle-button",inputId:c||i+"-input"}).current),L=(0,r.useRef)(),T=Nt({state:I,props:l}),V=(0,r.useCallback)((function(e){return _.current[P.getItemId(e)]}),[P]);Kt(m,[w,O,S,p],re({isInitialMount:R.current,previousResultCount:L.current,items:p,environment:g,itemToString:y},I)),Kt(v,[E],re({isInitialMount:R.current,previousResultCount:L.current,items:p,environment:g,itemToString:y},I));var A=function(e){var t=e.highlightedIndex,n=e.isOpen,i=e.itemRefs,o=e.getItemNodeFromIndex,u=e.menuElement,s=e.scrollIntoView,a=(0,r.useRef)(!0);return Vt((function(){t<0||!n||!Object.keys(i.current).length||(!1===a.current?a.current=!0:s(o(t),u))}),[t]),a}({menuElement:C.current,highlightedIndex:O,isOpen:w,itemRefs:_,scrollIntoView:h,getItemNodeFromIndex:V});qt({isInitialMount:R.current,props:l,state:I}),(0,r.useEffect)((function(){(f||d||w)&&k.current&&k.current.focus()}),[]),(0,r.useEffect)((function(){R.current||(L.current=p.length)}));var N=function(e,t,n,i){var o=(0,r.useRef)({isMouseDown:!1,isTouchMove:!1});return(0,r.useEffect)((function(){var r=function(){o.current.isMouseDown=!0},u=function(r){o.current.isMouseDown=!1,e&&!_t(r.target,t.map((function(e){return e.current})),n)&&i()},s=function(){o.current.isTouchMove=!1},a=function(){o.current.isTouchMove=!0},c=function(r){!e||o.current.isTouchMove||_t(r.target,t.map((function(e){return e.current})),n,!1)||i()};return n.addEventListener("mousedown",r),n.addEventListener("mouseup",u),n.addEventListener("touchstart",s),n.addEventListener("touchmove",a),n.addEventListener("touchend",c),function(){n.removeEventListener("mousedown",r),n.removeEventListener("mouseup",u),n.removeEventListener("touchstart",s),n.removeEventListener("touchmove",a),n.removeEventListener("touchend",c)}}),[e,n]),o}(w,[j,C,M],g,(function(){x({type:7,selectItem:!1})})),$=ht;(0,r.useEffect)((function(){R.current=!1}),[]),(0,r.useEffect)((function(){w||(_.current={})}),[w]);var H=(0,r.useMemo)((function(){return{ArrowDown:function(e){e.preventDefault(),x({type:0,shiftKey:e.shiftKey,getItemNodeFromIndex:V})},ArrowUp:function(e){e.preventDefault(),x({type:1,shiftKey:e.shiftKey,getItemNodeFromIndex:V})},Home:function(e){T.current.state.isOpen&&(e.preventDefault(),x({type:3,getItemNodeFromIndex:V}))},End:function(e){T.current.state.isOpen&&(e.preventDefault(),x({type:4,getItemNodeFromIndex:V}))},Escape:function(){var e=T.current.state;(e.isOpen||e.inputValue||e.selectedItem||e.highlightedIndex>-1)&&x({type:2})},Enter:function(e){var t=T.current.state;!t.isOpen||t.highlightedIndex<0||229===e.which||(e.preventDefault(),x({type:5,getItemNodeFromIndex:V}))}}}),[x,T,V]),F=(0,r.useCallback)((function(e){return re({id:P.labelId,htmlFor:P.inputId},e)}),[P]),D=(0,r.useCallback)((function(e,t){var n,r=void 0===e?{}:e,i=r.onMouseLeave,o=r.refKey,u=void 0===o?"ref":o,s=r.ref,a=ne(r,Zt),c=(void 0===t?{}:t).suppressRefError;return $("getMenuProps",void 0!==c&&c,u,C),re(((n={})[u]=bt(s,(function(e){C.current=e})),n.id=P.menuId,n.role="listbox",n["aria-labelledby"]=P.labelId,n.onMouseLeave=yt(i,(function(){x({type:8})})),n),a)}),[x,$,P]),K=(0,r.useCallback)((function(e){var t,n,r=void 0===e?{}:e,i=r.item,o=r.index,u=r.refKey,s=void 0===u?"ref":u,a=r.ref,c=r.onMouseMove,l=r.onClick;r.onPress;var f=ne(r,Gt),d=T.current,p=d.props,h=d.state,g=function(e,t,n){return void 0!==e?e:0===n.length?-1:n.indexOf(t)}(o,i,p.items);if(g<0)throw new Error("Pass either item or item index in getItemProps!");var m=l;return re(((t={})[s]=bt(a,(function(e){e&&(_.current[P.getItemId(g)]=e)})),t.role="option",t["aria-selected"]=""+(g===h.highlightedIndex),t.id=P.getItemId(g),t),!f.disabled&&((n={onMouseMove:yt(c,(function(){o!==h.highlightedIndex&&(A.current=!1,x({type:9,index:o}))}))}).onClick=yt(m,(function(){x({type:10,index:o}),k.current&&k.current.focus()})),n),f)}),[x,T,A,P]),q=(0,r.useCallback)((function(e){var t,n=void 0===e?{}:e,r=n.onClick;n.onPress;var i=n.refKey,o=void 0===i?"ref":i,u=n.ref,s=ne(n,Jt);return re(((t={})[o]=bt(u,(function(e){M.current=e})),t.id=P.toggleButtonId,t.tabIndex=-1,t),!s.disabled&&re({},{onClick:yt(r,(function(){x({type:11}),!T.current.state.isOpen&&k.current&&k.current.focus()}))}),s)}),[x,T,P]),B=(0,r.useCallback)((function(e,t){var n,r=void 0===e?{}:e,i=r.onKeyDown,o=r.onChange,u=r.onInput,s=r.onBlur;r.onChangeText;var a=r.refKey,c=void 0===a?"ref":a,l=r.ref,f=ne(r,Qt),d=(void 0===t?{}:t).suppressRefError;$("getInputProps",void 0!==d&&d,c,k);var p,h=T.current.state,g={};f.disabled||((p={}).onChange=yt(o,u,(function(e){x({type:6,inputValue:e.target.value})})),p.onKeyDown=yt(i,(function(e){var t=Et(e);t&&H[t]&&H[t](e)})),p.onBlur=yt(s,(function(){h.isOpen&&!N.current.isMouseDown&&x({type:7,selectItem:!0})})),g=p);return re(((n={})[c]=bt(l,(function(e){k.current=e})),n.id=P.inputId,n["aria-autocomplete"]="list",n["aria-controls"]=P.menuId,n),h.isOpen&&h.highlightedIndex>-1&&{"aria-activedescendant":P.getItemId(h.highlightedIndex)},{"aria-labelledby":P.labelId,autoComplete:"off",value:h.inputValue},g,f)}),[x,H,T,N,$,P]),W=(0,r.useCallback)((function(e,t){var n,r=void 0===e?{}:e,i=r.refKey,o=void 0===i?"ref":i,u=r.ref,s=ne(r,en),a=(void 0===t?{}:t).suppressRefError;return $("getComboboxProps",void 0!==a&&a,o,j),re(((n={})[o]=bt(u,(function(e){j.current=e})),n.role="combobox",n["aria-haspopup"]="listbox",n["aria-owns"]=P.menuId,n["aria-expanded"]=T.current.state.isOpen,n),s)}),[T,$,P]),U=(0,r.useCallback)((function(){x({type:12})}),[x]),z=(0,r.useCallback)((function(){x({type:14})}),[x]),Y=(0,r.useCallback)((function(){x({type:13})}),[x]),X=(0,r.useCallback)((function(e){x({type:15,highlightedIndex:e})}),[x]),Z=(0,r.useCallback)((function(e){x({type:16,selectedItem:e})}),[x]);return{getItemProps:K,getLabelProps:F,getMenuProps:D,getInputProps:B,getComboboxProps:W,getToggleButtonProps:q,toggleMenu:U,openMenu:Y,closeMenu:z,setHighlightedIndex:X,setInputValue:(0,r.useCallback)((function(e){x({type:17,inputValue:e})}),[x]),selectItem:Z,reset:(0,r.useCallback)((function(){x({type:18})}),[x]),highlightedIndex:O,isOpen:w,selectedItem:E,inputValue:S}}tn.stateChangeTypes=Bt,Re.array,Re.array,Re.array,Re.func,Re.func,Re.func,Re.number,Re.number,Re.number,Re.func,Re.func,Re.string,Re.string,Re.shape({addEventListener:Re.func,removeEventListener:Re.func,document:Re.shape({getElementById:Re.func,activeElement:Re.any,body:Re.any})});var nn=function(e){var t=(0,r.useState)(),n=t[0],i=t[1],o=(0,r.useRef)(""),u=function(e){var t=(0,r.useState)([]),n=t[0],i=t[1],o=(0,r.useState)(""===e),u=o[0],s=o[1];return(0,r.useEffect)((function(){if(void 0!==e){var t=function(e,t){i(e),t&&s(!1)};return z.addListener(e,t),(0,l.unstable_batchedUpdates)((function(){s(!0),i([]),te(e)})),function(){z.removeListener(e,t)}}}),[e]),{results:n,hasMore:u}}(n),s=u.results,a=u.hasMore,c=e.useHotkeys,f=void 0===c||c,p=(0,r.useRef)(null);(0,r.useEffect)((function(){o.current=n||""}),[n]);var h=tn({circularNavigation:!0,initialInputValue:e.initQuery,stateReducer:function(e,t){var n,r=t.type,i=t.changes;switch(r){case tn.stateChangeTypes.InputKeyDownEscape:return-1!==e.highlightedIndex?{highlightedIndex:-1,isOpen:!0,inputValue:e.inputValue}:e.inputValue?{inputValue:"",isOpen:!0,selectedItem:null,highlightedIndex:-1}:{isOpen:!1};case tn.stateChangeTypes.FunctionSelectItem:return d(d({},i),{selectedItem:null});case tn.stateChangeTypes.FunctionCloseMenu:case tn.stateChangeTypes.InputKeyDownEnter:return-1!==e.highlightedIndex?(null===(n=p.current)||void 0===n||n.click(),{isOpen:!1,highlightedIndex:-1,inputValue:""}):i;default:return i}},itemToString:function(){return n||""},getA11yStatusMessage:function(t){return t.resultCount||a?"":n?e.lang.not_found:e.lang.empty_query},items:s});(0,r.useEffect)((function(){if(f){var t=function(t){var n,r;!h.isOpen||t.which!==X&&"Enter"!==t.key||-1!==h.highlightedIndex||(null===(n=e.onMoreResultsOpen)||void 0===n||n.call(e,o.current||""),h.setInputValue(""),h.closeMenu()),t.which!==Y&&"/"!==t.key||["TEXTAREA","INPUT"].includes((null===(r=document.activeElement)||void 0===r?void 0:r.nodeName)||"")||h.openMenu()};return window.addEventListener("keypress",t),function(){window.removeEventListener("keypress",t)}}return function(){}}),[f,h]),(0,r.useEffect)((function(){i(h.inputValue)}),[h.inputValue]);var m=d(d(d({},h),e),{query:n,results:s,hasMore:a,activeLinkRef:p});return g.exports.jsx(k.Provider,d({value:m},{children:e.children}),void 0)}}}]);